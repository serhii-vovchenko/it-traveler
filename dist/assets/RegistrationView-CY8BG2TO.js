import{B as c,o as u,h as d,b as t,w as g,d as f,t as b,G as V,q as o,v as _,j as w,F as v,C as x,D as y}from"./index-BfV9kO8h.js";import{_ as S}from"./IButton-Qu92zaji.js";import{_ as m,u as R}from"./useMutation-CAdpa6FW.js";const U={__name:"RegistrationForm",props:{isLoading:{default:!1,type:Boolean}},emits:["submit"],setup(p,{emit:l}){const n=p,a=c({name:"",email:"",password:""}),i=l;return(r,e)=>(u(),d("form",{onSubmit:e[3]||(e[3]=b(s=>i("submit",V(a)),["prevent"]))},[t(m,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=s=>a.name=s),class:"mb-4",label:"Повне ім’я",placeholder:"What is your name?"},null,8,["modelValue"]),t(m,{modelValue:a.email,"onUpdate:modelValue":e[1]||(e[1]=s=>a.email=s),class:"mb-4",label:"Електронна пошта",type:"email",placeholder:"Email@gmail.com"},null,8,["modelValue"]),t(m,{modelValue:a.password,"onUpdate:modelValue":e[2]||(e[2]=s=>a.password=s),class:"mb-10",label:"Пароль",type:"password",placeholder:"Password"},null,8,["modelValue"]),t(S,{type:"submit",class:"w-full",variant:"gradient","is-loading":n.isLoading},{default:g(()=>e[4]||(e[4]=[f(" Створити аккаунт ")])),_:1},8,["is-loading"])],32))}},B={key:0,class:"text-red-500 text-center"},C={__name:"RegistrationView",setup(p){const l=x(),{isLoading:n,error:a,mutation:i}=R({mutationFn:r=>y.registerUser(r),onSuccess:()=>{l.replace("/map")}});return(r,e)=>(u(),d(v,null,[t(U,{onSubmit:o(i),"is-loading":o(n)},null,8,["onSubmit","is-loading"]),o(a)?(u(),d("p",B,_(o(a).message),1)):w("",!0)],64))}};export{C as default};
